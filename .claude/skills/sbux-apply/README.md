# /sbux:apply 使用指南

> 基于提案文档执行编码和测试，实现功能

## 工作流定位

```
开发流程：
  /sbux:proposal → [/sbux:apply] → /sbux:review → /sbux:git → /sbux:deploy → (/sbux:fix 循环)
                        ↑
                    当前位置
```

| 上游依赖 | 当前 Skill | 下游衔接 |
|----------|-----------|----------|
| /sbux:proposal 生成的提案文档 | **/sbux:apply** | /sbux:review（审查） |
| 5 个文档必须完整 | | /sbux:git（直接提交） |

---

## 快速开始

### 前置条件

- `/sbux:proposal` 已完成
- 提案文档中无 `[待确认]` 标记
- 5 个文档完整存在

### 基本用法

```bash
# 使用最新提案
/sbux:apply

# 指定提案
/sbux:apply 001-user-register
```

### 常见场景

**逐阶段确认模式**
```bash
/sbux:apply --step
```

**仅编码不测试**
```bash
/sbux:apply --skip-test
```

---

## 最佳实践

1. **确保无 [待确认] 标记** - apply 会强制检查，发现则终止执行

2. **使用 --step 模式** - 首次使用或复杂功能时，逐阶段确认更可控

3. **关注测试覆盖** - apply 会执行集成测试（IT）和接口测试（AT），确保覆盖完整

4. **实时查看进度** - tasks.md 会实时更新任务状态

---

## 执行阶段

| 阶段 | 说明 | 输出 |
|------|------|------|
| Step 0 | 确认提案，检查 [待确认] | 无 |
| Step 1 | 编码阶段 | 业务代码 |
| Step 2 | 集成测试 | IT 测试代码 |
| Step 3 | 接口测试 | AT 测试代码 |
| Step 4 | 完成确认 | test-case-detail.md |

---

## 输出产物

| 产物 | 位置 | 用途 |
|------|------|------|
| 业务代码 | 项目目录 | 功能实现 |
| 测试代码 | 测试目录 | 验证功能 |
| 测试记录 | `.proposal/{id}/test-case-detail.md` | 逐用例证据 |
| 任务状态 | `.proposal/{id}/5-tasks.md` | 实时更新 |

---

## 常见问题

| 问题 | 解决方案 |
|------|----------|
| 发现 [待确认] 项 | 先编辑文档处理待确认项，删除标记后重新运行 |
| 编译/构建失败 | 检查错误信息，修复后重新运行 |
| 测试用例失败 | 查看失败原因，修复代码或调整用例 |
| 想跳过某些任务 | 编辑 tasks.md，将任务标记为已完成 |

---

## 下一步

实现完成后：

- 代码审查 → `/sbux:review`（推荐）
- 直接提交 → `/sbux:git commit`
- 部署测试 → `/sbux:git push` 后 `/sbux:deploy`
