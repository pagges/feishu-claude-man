# 代码审查报告

**提案**: {feature-name}
**审查时间**: YYYY-MM-DD HH:mm:ss
**审查结果**: ❌ 不通过 / ⚠️ 有警告 / ✅ 通过

---

## 检查汇总

| 检查项 | 状态 | 详情 |
|--------|------|------|
| 需求覆盖 | ✅/⚠️/❌ | 覆盖率 XX% |
| 设计符合 | ✅/⚠️/❌ | X 个偏离 |
| API 一致 | ✅/⚠️/❌ | X 个差异 |
| 代码质量 | ✅/⚠️/❌ | X 个问题 |

---

## 🔴 必须修复 (X 个)

| 编号 | 类型 | 问题描述 | 位置 |
|------|------|----------|------|
| E-1 | API | POST /api/users 缺少 email 字段验证 | UserController.java:42 |
| E-2 | API | 响应码 400 未按规格返回错误详情 | UserController.java:58 |

---

## 🟡 建议修复 (X 个)

| 编号 | 类型 | 问题描述 | 位置 |
|------|------|----------|------|
| W-1 | 设计 | UserService.createUser 方法过长（120行） | UserService.java:45-165 |
| W-2 | 质量 | 存在未使用的导入 | UserController.java:5 |

---

## 🔵 参考信息 (X 个)

| 编号 | 类型 | 描述 |
|------|------|------|
| I-1 | 需求 | FR-3 仅有 1 个测试用例覆盖 |

---

## 修复建议

### E-1: POST /api/users 缺少 email 字段验证

- **问题**: 请求体中的 email 字段未做格式验证
- **建议**: 添加 @Email 注解或自定义验证逻辑
- **参考代码**: 在 DTO 类中添加验证注解

### E-2: 响应码 400 未按规格返回错误详情

- **问题**: 错误响应缺少 code 和 message 字段
- **建议**: 使用统一的错误响应格式
